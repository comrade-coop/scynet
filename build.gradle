/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds
 */



plugins {
	id "idea"
	id "org.jetbrains.dokka" version '0.9.18'
}

allprojects {
	repositories {
		jcenter()
	}
}


subprojects {
	apply plugin: "java"
	apply plugin: "idea"

	dependencies {
		implementation "org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version"

		// https://github.com/kotlintest/kotlintest
		testImplementation 'io.kotlintest:kotlintest-runner-junit5:3.3.0'

		// https://github.com/mockk/mockk
		testImplementation "io.mockk:mockk:1.9.3"

		// https://insert-koin.io/docs/2.0/documentation/reference/index.html
		compile 'org.koin:koin-core:2.0.1'

		testCompile 'org.koin:koin-test:2.0.1'
	} 

	test {
    	useJUnitPlatform()
	}

}

// https://github.com/Kotlin/dokka
dokka {
	outputFormat = 'kotlin-website'
	outputDirectory = "docs"

	kotlinTasks {
		subprojects.collectMany { project -> project.hasProperty("compileKotlin") ? [ project.compileKotlin ] : [] }
	}
}

if (hasProperty('buildScan')) {
    buildScan {
        termsOfServiceUrl = 'https://gradle.com/terms-of-service'
        termsOfServiceAgree = 'yes'
    }
}
